# NO.1 运维自动化


## 提要

**Why?**

随着各种业务对IT的依赖渐重，企业的IT基础架构规模不断扩张。

**So~~**

SA们把不断重复而繁杂的工作引入工具来处理，这种工具是可“编程”的，它会自动完成所有的工作。

手工时代已经过去,撇去人力成本,将一切交给机器,让机器自动完成人力需求。

KISS原则就是自动化的体现，保持一切简单和懒惰，即减少错误、节省人力。

自动化是在流程化、标准化的基础前提上构建的运维体系。

自动化的最终目的是提高工作效率、释放人力资源、节约运营成本、提升业务服务质量等。

![](imgs/blog1.1.jpg)


## 运维自动化工具：

自动化最重要的部分就是建设运维自动化工具，具体包括监控、部署变更、安全保障、故障处理、运营数据报表等，即运维“三板斧”。

1. 预备类工具
预备类工具可以使 Linux 操作系统及软件安装自动化。它们借助服务器上的软件包系统比如 rpm 或者 apt 来安装软件包，甚至会做一些粗略的配置工作。

2. 配置管理类工具
配置管理类工具可以自动化部署常用的应用程序，设置参数或者开启一个新服务器上的服务，也可以用来把对操作系统及业务支撑系统的变更管理回滚到上一版本。

3. 监控报警类工具
监控工具用来收集服务器数据，从而生成可用性、性能和其它系统状态的报告。可用性监控可以第一时间向运维人员发送业务不可用的警告，以便第一时间 处理，减少业务中断时间。



系统安装===== cobbler, Kickstart

命令执行======shell,shell+except;python parimko,fabric,ansible

配置管理====== cfengine,puppet,saltstack,ansible

自动监控=======nagios,cacti,zabbix,monit

日志分析等最常用的工具=======elk,flume

*不过自动化并不等于Web化。你不必刻意去构建一个Web去实现所谓自动化，那是舍本逐末的行为。*

![](imgs/blog1.2.jpg)


## 标准化

1、基础标准化

2、系统标准化

3、应用标准化

4、安全标准化

5、网络标准化

6、上线\下线标准化

**自动拓扑发现。**

如果定了很好的配置结构，可以从配置中直接读取访问的外部服务信息、DB信息、MC信息等等。

**配置管理更加简单。**

对于一个海量服务来说，配置管理必须建设配置中心来解决，因为配置太复杂；而对于一个规模不大的业务来说，可以把配置管理的标准制定，然后统一遵守即可。我们现在的配置就定义了清晰的目录结构，那些是运维需要关注的配置，那些研发需要关注的配置，然后配置在三个环境的差异，统一到define.conf重定义解决，把需要管理的多个配置对象变成一个。

**工具建设成本降低。**

就拿刚刚描述的来说，管理一个配置文件和管理是个配置文件的代价完全不同，我们都知道基于文本的配置文件管理，过多的配置文件容易出错。因此到海量服务的规模，必须要上配置中心，配置中心要解决多个维度的配置管理问题，比如说集群类型、环境类型、机房等等。最关键的是，还要通过配置中心来实时的监控大规模集群中的配置一致性的问题。

